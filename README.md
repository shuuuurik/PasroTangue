# Язык PasroTangue

Приложение выполняет синтаксический разбор кода, написанного на ParsoTangue, и строит его абстрактное синтаксическое дерево (AST).

- Вход: файл `input.txt` с кодом на ParsoTangue.
- Выход: файл `output.txt` с представлением AST в текстовом формате.
- Если в коде есть ошибки лексического или синтаксического анализа, программа сообщает об этом в консоли.

## Спецификация языка PasroTangue

**ParsoTangue** – язык программирования, который позволяет делать простые расчёты с целыми числами и строками.
- Объявление переменной с присваиванием
- Арифметические операции: сложение (+), вычитание (-), умножение (*), деление (/), деление с остатком (%)
- Операции сравнения: <=, >=, <, >, ==, !=.
- Объявление функций (возвращают значения или void).
- Условные операторы

### Переменные
- Объявляются с ключевым словом `var`, объявление допустимо без инициализации
```plaintext
var x = 10
var y
var s = "Hello, World!"
```
- Могут быть целыми числами или строками
- Не поддерживаются другие типы данных, а также операции присваивания

### Функции
- Объявляются с ключевым словом `func`
- Возвращаемый тип может быть `var` или `void`
```plaintext
func min(var a, var b) -> var {
    if (a < b) {
        return a
    } else {
        return b
    }
}
```
- Могут быть только объявлены, вызов не поддерживается

### Операции
- Арифметические: `+`, `-`, `*`, `/`, `%`
- Сравнение: `<`, `<=`, `>`, `>=`, `==`, `!=`
- Унарные операторы: `-` (смена знака)

### Управляющие конструкции
- Блоки кода `{ ... }`
- Условные операторы `if-else`

### Пример кода
```plaintext
func min(var a, var b) -> var {
    if (a < b) {
        return a
    } else {
        return b
    }
}

func print_hello_world() {
    print("Hello, world!")
}

var a
var b = 10
var s = "Hello, world!"

{
    var x = 10
    print(-x)
    var y = 20
    print(y % x)
}

var n = 1 + 3 * 2
print(n)

var m = (1 + 3) * 2
print(m)
```

### Детали реализации, анализ результатов и выводы
Не всё успевал (и понимал как) сделать, так что немного упростил себе задачу:

Так как в задании не требовалось выполнять семантический анализ (нужен был только лексический и синтаксический), то таблица символов для семантического анализа не реализована (и, вообще говоря, знаю я об этом только в теории). По этой же причине в языке отсутствуют типы: в данной реализации ParsoTangue условно имеет динамическую типизацию:)

Не получилось нормально подключить Detect для статического анализа и настроить генерацию отчётов. Так что приложен один отчёт, скопированный из консоли вручную. Отчёт содержит высокие показатели как цикломатической, так и когнитивной сложности, что показывает ключевые недостатки алгоритма рекурсивного спуска: длинные цепочки условных операторов и рекурсивных вызовов. Заставляет задуматься над выбором более оптимального алгоритма для решения задачи

### Идеи по улучшению реализации
Небольшие предлагаемые улучшения (в основном технические):
- Добавление типов, комментариев и прочих возможностей стандартных ЯП
- Добавление обработки частично некорректного кода, стресс-тестов (это было в дополнительных требованиях, я не успел)
- Оптимизация работы с памятью (возможно где-то можно заиспользовать кеширование и прочие техники, но нужно искать узкие места текущей реализации парсера)
- Поддержка таблицы символов для семантического анализа
- Печать лексических/синтаксических ошибок в файл вместо консоли

Значимые предлагаемые улучшения в реализации:
- Переход с алгоритма рекурсивного спуска на более эффективные алгоритмы синтаксического анализа (можно использовать генераторы парсеров вроде ANTLR, но подробно изучить этот способ пока не успел)
- Использование существующих библиотек для реализации синтаксического анализатора, которые предоставляют гораздо более оптимизированные и эффективные решения